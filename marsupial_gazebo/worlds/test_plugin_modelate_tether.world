<?xml version="1.0"?> 
<sdf version="1.4">
  <world name="default">

    <!-- Ground Plane -->
    <include>
      <uri>model://ground_plane</uri>
    </include>

    <include>
      <uri>model://sun</uri>
    </include>

    <model name="boxes">
      <link name="link_1">
      <pose>0 0 1 0 0 0</pose>
        <collision name="collision">
          <geometry>
            <box>
              <size>1 1 1</size>
            </box>
          </geometry>
        </collision>
        <visual name="visual">
          <geometry>
            <box>
              <size>1 1 1</size>
            </box>
          </geometry>
        </visual>
      </link>

      <link name="link_2">
      <pose>0 0 2.4 0 0 0</pose>
        <collision name="collision1">
          <geometry>
            <box>
              <size>1 1 1</size>
            </box>
          </geometry>
        </collision>
        <visual name="visual1">
          <geometry>
            <box>
              <size>1 1 1</size>
            </box>
          </geometry>
        </visual>
      </link>

      <link name="link_3">
        <pose>0 -0 3.8 0 0 0</pose>
        <collision name="collision2">
          <geometry>
            <box>
              <size>1 1 1</size>
            </box>
          </geometry>
        </collision>
        <visual name="visual2">
          <geometry>
            <box>
              <size>1 1 1</size>
            </box>
          </geometry>
        </visual>
      </link>

      <joint name='JOINT_1_2' type='fixed'>
      <parent>link_1</parent>
      <child>link_2</child>
      <pose>0 0 -0.7 0 -0 0</pose>
      <physics>
        <ode>
          <limit>
            <cfm>0</cfm>
            <erp>0.2</erp>
          </limit>
          <suspension>
            <cfm>0</cfm>
            <erp>0.2</erp>
          </suspension>
        </ode>
      </physics>
    </joint>

    <joint name='JOINT_2_3' type='fixed'>
      <parent>link_2</parent>
      <child>link_3</child>
      <pose>0 0 -0.7 0 -0 0</pose>
      <physics>
        <ode>
          <limit>
            <cfm>0</cfm>
            <erp>0.2</erp>
          </limit>
          <suspension>
            <cfm>0</cfm>
            <erp>0.2</erp>
          </suspension>
        </ode>
      </physics>
    </joint>

      <plugin name="gazebo_ros_modelate_tether" filename="libgazebo_ros_modelate_tether.so">
        <namespace>tether</namespace>
        <numLinkTether>3</numLinkTether>
        <nameLinkFrame>link</nameLinkFrame> 
        <nameJointFrame>tether::JOINT</nameJointFrame>
        <initTetherLength>-1.0</initTetherLength>
        <initLengthLink> 1.0 </initLengthLink>
        <maxLengthTether>20.0</maxLengthTether>
        <minLengthTether>0.5</minLengthTether>
        <lengthGap>0.2</lengthGap>
      </plugin>

      <static>0</static>

    </model>        

  </world>
</sdf>
